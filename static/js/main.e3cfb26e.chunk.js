(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{12:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(7),a=r.n(s),o=(r(12),r(5)),i=r(2),u=r.p+"static/media/adventure.182b6171.svg",d=r(0);function l(e){var t=e.name,r=e.index,n=e.correctResponse,c=e.possibleShownResponses,s=e.addToRef,a=e.newQuestion,o=e.firstTestState,i=e.firstTestSetState,u=e.score;return Object(d.jsxs)("li",{onClick:function(e){return t=e.currentTarget,void(o&&(i(!1),t.children[1].innerText===n.name?(t.classList.add("correct"),t.querySelector("img").src="/country-quiz/images/correct.svg"):(u.current--,t.classList.add("incorrect"),t.querySelector("img").src="/country-quiz/images/incorrect.svg",c.forEach((function(e){e.children[1].innerText===n.name&&(e.classList.add("correct"),e.querySelector("img").src="/country-quiz/images/correct.svg")}))),setTimeout((function(){a()}),1e3)));var t},ref:s,children:[Object(d.jsx)("span",{children:String.fromCharCode(65+r)}),Object(d.jsx)("span",{children:t}),Object(d.jsx)("span",{className:"icon",children:Object(d.jsx)("img",{src:"",alt:""})})]},t)}var j=r.p+"static/media/winners.d76bfdf8.svg";var m=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],c=t[1],s=JSON.parse(localStorage.getItem("countries")),a=Object(n.useState)({}),m=Object(i.a)(a,2),h=m[0],b=m[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),O=f[0],g=f[1],x=Object(n.useState)(!0),S=Object(i.a)(x,2),v=S[0],M=S[1],C=Object(n.useState)(!1),y=Object(i.a)(C,2),I=y[0],R=y[1],N=Object(n.useRef)([]),T=Object(n.useRef)(5),q=Object(n.useRef)(0);function w(e){e&&!N.current.includes(e)&&N.current.push(e)}function z(){var e,t;N.current=[],q.current++,q.current>=5&&R(!0),e=r.splice(Math.floor(Math.random()*r.length),1)[0],r.sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),t=r.splice(0,3),t=[e].concat(Object(o.a)(t)).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),b(e),g(t),M(!0)}function k(){var e=s.splice(Math.floor(Math.random()*s.length),1)[0],t=s.splice(0,3);t=[].concat(Object(o.a)(t),[e]).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),q.current=0,T.current=5,b(e),g(t),c(s),R(!1)}return Object(n.useEffect)((function(){s?k():fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(e){(e=e.filter((function(e){return e.name&&e.capital&&e.flag&&e.numericCode}))).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),localStorage.setItem("countries",JSON.stringify(e));var t=e.splice(Math.floor(Math.random()*e.length),1)[0],r=e.splice(0,3);r=[t].concat(Object(o.a)(r)).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),b(t),g(r),c(e)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{id:"app",children:[Object(d.jsx)("h1",{children:"Country quiz"}),Object(d.jsx)("div",{className:"container",children:I?Object(d.jsxs)("div",{className:"results",children:[Object(d.jsx)("div",{className:"img",children:Object(d.jsx)("img",{src:j,alt:""})}),Object(d.jsx)("h2",{children:"Results"}),Object(d.jsxs)("p",{children:["You got ",Object(d.jsxs)("span",{children:[T.current,"/5"]})," correct answers"]}),Object(d.jsx)("button",{className:"button",onClick:function(e){return k()},children:"Try again"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:u,alt:""})}),Object(d.jsxs)("div",{className:"question",children:[h.capital," is the capital of ?"]}),Object(d.jsx)("ul",{className:"responses",children:O.map((function(e,t){return Object(d.jsx)(l,{name:e.name,index:t,correctResponse:h,addToRef:w,possibleShownResponses:N.current,countriesSetState:c,countriesState:r,newQuestion:z,possibleResponsesSetState:g,possibleResponsesState:O,firstTestState:v,firstTestSetState:M,gameOverSetState:R,score:T,tourNumber:q},e.name)}))})]})})]}),Object(d.jsx)("footer",{children:Object(d.jsxs)("p",{children:["created by ",Object(d.jsx)("a",{target:"_blank",href:"https://github.com/yousoumar",rel:"noreferrer",children:"yousoumar"})," - devchallenges.io"]})})]})};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e3cfb26e.chunk.js.map