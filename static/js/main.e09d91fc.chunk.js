(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),s=c(6),a=c.n(s),i=(c(12),c(7)),o=c(2),u=c.p+"static/media/adventure.182b6171.svg",j=c(0);function l(e){var t=e.name,c=e.index,r=e.correctResponse,n=e.possibleShownResponses,s=e.addToRef,a=e.firstTestState,i=e.firstTestSetState,o=e.score,u=e.newQuestion;return Object(j.jsxs)("li",{onClick:function(e){return t=e.currentTarget,void(a&&(i(!1),t.children[1].innerText===r.name?(t.classList.add("correct"),t.querySelector("img").src="/country-quiz/images/correct.svg"):(o.current--,t.classList.add("incorrect"),t.querySelector("img").src="/country-quiz/images/incorrect.svg",n.forEach((function(e){e.children[1].innerText===r.name&&(e.classList.add("correct"),e.querySelector("img").src="/country-quiz/images/correct.svg")}))),setTimeout((function(){u()}),1500)));var t},ref:s,children:[Object(j.jsx)("span",{children:String.fromCharCode(65+c)}),Object(j.jsx)("span",{children:t}),Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("img",{src:"",alt:""})})]},t)}var d=c.p+"static/media/winners.d76bfdf8.svg";function b(){return Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)("p",{children:"Loading..."})})}var h=function(){var e=function(e){var t=Object(r.useState)([]),c=Object(o.a)(t,2),n=c[0],s=c[1],a=Object(r.useRef)([]),i=Object(r.useState)(!1),u=Object(o.a)(i,2),j=u[0],l=u[1],d=Object(r.useState)("loading"),b=Object(o.a)(d,2),h=b[0],O=b[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){fetch(e).then((function(e){return e.json()})).then((function(e){e=e.filter((function(e){return e.name&&e.capital&&e.flag&&e.numericCode})),a.current=e.slice(),s(e.slice()),O("loaded")})).catch((function(){l(!0),O("loaded")}))}),1e3);return function(){clearTimeout(t)}}),[e]),{countriesState:n,countriesSetState:s,storageData:a.current,apiErrorState:j,loaderState:h}}("https://restcountries.eu/rest/v2/all"),t=e.countriesState,c=e.countriesSetState,n=e.storageData,s=e.apiErrorState,a=e.loaderState,h=Object(r.useState)({}),O=Object(o.a)(h,2),m=O[0],f=O[1],p=Object(r.useState)([]),x=Object(o.a)(p,2),g=x[0],S=x[1],v=Object(r.useState)(!0),N=Object(o.a)(v,2),T=N[0],y=N[1],q=Object(r.useState)(!1),R=Object(o.a)(q,2),C=R[0],w=R[1],E=Object(r.useState)(!1),M=Object(o.a)(E,2),z=M[0],k=M[1],I=Object(r.useRef)([]),L=Object(r.useRef)(10),F=Object(r.useRef)(0);function D(e){e&&!I.current.includes(e)&&I.current.push(e)}function J(){var e,c;I.current=[],F.current++,F.current>10&&w(!0),e=t.splice(Math.floor(Math.random()*t.length),1)[0],t.sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),c=t.splice(0,3),c=[e].concat(Object(i.a)(c)).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),f(e),S(c),k(!z),y(!0)}return Object(r.useEffect)((function(){0!==t.length&&J()}),[t]),Object(j.jsx)(j.Fragment,{children:"loading"===a?Object(j.jsx)(b,{}):Object(j.jsx)(j.Fragment,{children:s?Object(j.jsx)("p",{className:"apiError",children:"We have issues with our database. Please come back later :)"}):Object(j.jsxs)("div",{id:"app",children:[Object(j.jsx)("h1",{children:"Country quiz"}),Object(j.jsx)("div",{className:"container",children:C?Object(j.jsxs)("div",{className:"results",children:[Object(j.jsx)("div",{className:"img",children:Object(j.jsx)("img",{src:d,alt:""})}),Object(j.jsx)("h2",{children:"Results"}),Object(j.jsxs)("p",{children:["You got ",Object(j.jsxs)("span",{children:[L.current,"/10"]})," correct answers."]}),Object(j.jsx)("button",{className:"button",onClick:function(e){return F.current=0,L.current=10,c(n.slice()),void w(!1)},children:"Try again"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("img",{src:u,alt:""})}),Object(j.jsxs)("div",{className:"tour-number",children:[F.current,"/10"]}),z?Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"flag",children:Object(j.jsx)("img",{src:m.flag,alt:""})}),Object(j.jsx)("div",{className:"question",children:"Which country does this flag belong to? "})]}):Object(j.jsxs)("div",{className:"question",children:[m.capital," is the capital of ?"]}),Object(j.jsx)("ul",{className:"responses",children:g.map((function(e,t){return Object(j.jsx)(l,{name:e.name,index:t,correctResponse:m,addToRef:D,possibleShownResponses:I.current,firstTestState:T,firstTestSetState:y,score:L,newQuestion:J},e.name)}))})]})})]})})})};a.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e09d91fc.chunk.js.map