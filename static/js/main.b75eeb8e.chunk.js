(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{12:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),s=r(7),a=r.n(s),i=(r(12),r(5)),o=r(2),u=r.p+"static/media/adventure.182b6171.svg",l=r(0);function d(e){var t=e.name,r=e.index,c=e.correctResponse,n=e.possibleShownResponses,s=e.addToRef,a=e.firstTestState,i=e.firstTestSetState,o=e.score;return Object(l.jsxs)("li",{onClick:function(e){return t=e.currentTarget,void(a&&(i(!1),t.children[1].innerText===c.name?(t.classList.add("correct"),t.querySelector("img").src="/country-quiz/images/correct.svg"):(o.current--,t.classList.add("incorrect"),t.querySelector("img").src="/country-quiz/images/incorrect.svg",n.forEach((function(e){e.children[1].innerText===c.name&&(e.classList.add("correct"),e.querySelector("img").src="/country-quiz/images/correct.svg")})))));var t},ref:s,children:[Object(l.jsx)("span",{children:String.fromCharCode(65+r)}),Object(l.jsx)("span",{children:t}),Object(l.jsx)("span",{className:"icon",children:Object(l.jsx)("img",{src:"",alt:""})})]},t)}var j=r.p+"static/media/winners.d76bfdf8.svg";var h=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),r=t[0],n=t[1],s=JSON.parse(localStorage.getItem("countries")),a=Object(c.useState)({}),h=Object(o.a)(a,2),m=h[0],b=h[1],O=Object(c.useState)([]),f=Object(o.a)(O,2),p=f[0],g=f[1],x=Object(c.useState)(!0),v=Object(o.a)(x,2),S=v[0],C=v[1],M=Object(c.useState)(!1),y=Object(o.a)(M,2),N=y[0],I=y[1],q=Object(c.useState)(!1),R=Object(o.a)(q,2),T=R[0],k=R[1],w=Object(c.useRef)([]),z=Object(c.useRef)(10),J=Object(c.useRef)(0);function E(e){e&&!w.current.includes(e)&&w.current.push(e)}function L(){var e=s.splice(Math.floor(Math.random()*s.length),1)[0],t=s.splice(0,3);t=[].concat(Object(i.a)(t),[e]).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),J.current=0,z.current=10,b(e),g(t),n(s),I(!1)}return Object(c.useEffect)((function(){s?L():fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(e){(e=e.filter((function(e){return e.name&&e.capital&&e.flag&&e.numericCode}))).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),localStorage.setItem("countries",JSON.stringify(e));var t=e.splice(Math.floor(Math.random()*e.length),1)[0],r=e.splice(0,3);r=[t].concat(Object(i.a)(r)).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),b(t),g(r),n(e)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{id:"app",children:[Object(l.jsx)("h1",{children:"Country quiz"}),Object(l.jsx)("div",{className:"container",children:N?Object(l.jsxs)("div",{className:"results",children:[Object(l.jsx)("div",{className:"img",children:Object(l.jsx)("img",{src:j,alt:""})}),Object(l.jsx)("h2",{children:"Results"}),Object(l.jsxs)("p",{children:["You got ",Object(l.jsxs)("span",{children:[z.current,"/10"]})," correct answers."]}),Object(l.jsx)("button",{className:"button",onClick:function(e){return L()},children:"Try again"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsx)("img",{src:u,alt:""})}),T?Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"flag",children:Object(l.jsx)("img",{src:m.flag,alt:""})}),Object(l.jsx)("div",{className:"question",children:"Which country does this flag belong to? "})]}):Object(l.jsxs)("div",{className:"question",children:[m.capital," is the capital of ?"]}),Object(l.jsx)("ul",{className:"responses",children:p.map((function(e,t){return Object(l.jsx)(d,{name:e.name,index:t,correctResponse:m,addToRef:E,possibleShownResponses:w.current,firstTestState:S,firstTestSetState:C,score:z},e.name)}))}),!S&&Object(l.jsx)("button",{className:"button next",onClick:function(){var e,t;w.current=[],J.current++,J.current>=10&&I(!0),e=r.splice(Math.floor(Math.random()*r.length),1)[0],r.sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),t=r.splice(0,3),t=[e].concat(Object(i.a)(t)).sort((function(e,t){return parseInt(t.numericCode)*Math.random()-parseInt(e.numericCode)*Math.random()})),b(e),g(t),k(!T),C(!0)},children:"Next"})]})})]}),Object(l.jsx)("footer",{children:Object(l.jsxs)("p",{children:["created by ",Object(l.jsx)("a",{target:"_blank",href:"https://github.com/yousoumar",rel:"noreferrer",children:"yousoumar"})," - devchallenges.io"]})})]})};a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b75eeb8e.chunk.js.map