(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(7),a=n.n(s),i=(n(12),n(5)),o=n(2),u=n.p+"static/media/adventure.182b6171.svg",l=n(0);function j(e){var t=e.name,n=e.index,r=e.correctResponse,c=e.possibleShownResponses,s=e.addToRef,a=(e.countriesSetState,e.countriesState,e.newQuestion),i=(e.possibleResponsesState,e.possibleResponsesSetState,e.firstTestState),o=e.firstTestSetState,u=e.score;return Object(l.jsxs)("li",{onClick:function(e){return t=e.currentTarget,void(i&&(o(!1),t.children[1].innerText===r.name?(t.classList.add("correct"),t.querySelector("img").src="/country-quiz/images/correct.svg"):(u.current--,t.classList.add("incorrect"),t.querySelector("img").src="/country-quiz/images/incorrect.svg",c.forEach((function(e){e.children[1].innerText===r.name&&(e.classList.add("correct"),e.querySelector("img").src="/country-quiz/images/correct.svg")}))),setTimeout((function(){o(!0),a()}),1e3)));var t},ref:s,children:[Object(l.jsx)("span",{children:String.fromCharCode(65+n)}),Object(l.jsx)("span",{children:t}),Object(l.jsx)("span",{className:"icon",children:Object(l.jsx)("img",{src:"",alt:""})})]},t)}var d=n.p+"static/media/winners.d76bfdf8.svg";var b=function(){var e=JSON.parse(localStorage.getItem("countries")),t=Object(r.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)({}),b=Object(o.a)(a,2),h=b[0],m=b[1],f=Object(r.useState)([]),p=Object(o.a)(f,2),O=p[0],S=p[1],g=Object(r.useRef)(5),x=Object(r.useRef)(0),v=Object(r.useState)(!1),y=Object(o.a)(v,2),R=y[0],M=y[1];Object(r.useEffect)((function(){e?E():fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(e){localStorage.setItem("countries",JSON.stringify(e));var t=e[Math.floor(Math.random()*e.length)],n=e.filter((function(e){return e.name!==t.name})),r=n.splice(0,3);r=[t].concat(Object(i.a)(r)),m(t),S(r),s(n)}))}),[]);var N=Object(r.useRef)([]);function T(e){e&&!N.current.includes(e)&&N.current.push(e)}var q=Object(r.useState)(!0),w=Object(o.a)(q,2),z=w[0],k=w[1],C=Object(r.useRef)(!0);function J(){var e,t,n;x.current++,x.current>=5&&M(!0),N.current=[],s(c.filter((function(e){return e.name!==h.name}))),e=c[Math.floor(Math.random()*c.length)],C.current?(C.current=!C.current,(n=(t=c.filter((function(t){return t.name!==e.name}))).splice(0,3)).push(e),n.sort((function(e,t){return t.area*Math.random()-e.area*Math.random()}))):(C.current=!C.current,n=(t=c.filter((function(t){return t.name!==e.name})).sort((function(e,t){return t.population*Math.random()-e.population*Math.random()}))).splice(0,3),(n=[e].concat(Object(i.a)(n))).sort((function(e,t){return t.population*Math.random()-e.population*Math.random()}))),s(t),m(e),S(n),k(!0)}function E(){var t=e[Math.floor(Math.random()*e.length)],n=e.filter((function(e){return e.name!==t.name})),r=n.splice(0,3);r=[t].concat(Object(i.a)(r)),m(t),S(r),s(n),x.current=0,g.current=5,M(!1)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{id:"app",children:[Object(l.jsx)("h1",{children:"Country quiz"}),Object(l.jsx)("div",{className:"container",children:R?Object(l.jsxs)("div",{className:"results",children:[Object(l.jsx)("div",{className:"img",children:Object(l.jsx)("img",{src:d,alt:""})}),Object(l.jsx)("h2",{children:"Results"}),Object(l.jsxs)("p",{children:["You got ",Object(l.jsx)("span",{children:g.current})," correct answers"]}),Object(l.jsx)("button",{className:"button",onClick:function(e){return E()},children:"Try again"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsx)("img",{src:u,alt:""})}),Object(l.jsxs)("div",{className:"question",children:[h.capital," is the capital of ?"]}),Object(l.jsx)("ul",{className:"responses",children:O.map((function(e,t){return Object(l.jsx)(j,{name:e.name,index:t,correctResponse:h,addToRef:T,possibleShownResponses:N.current,countriesSetState:s,countriesState:c,newQuestion:J,possibleResponsesSetState:S,possibleResponsesState:O,firstTestState:z,firstTestSetState:k,gameOverSetState:M,score:g,tourNumber:x},e.name)}))})]})})]}),Object(l.jsx)("footer",{children:Object(l.jsxs)("p",{children:["created by ",Object(l.jsx)("a",{target:"_blank",href:"https://github.com/yousoumars",children:"yousoumar"})," - devchallenges.io"]})})]})};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a7ff04ac.chunk.js.map